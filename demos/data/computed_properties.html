<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>BetaJS Properties</title>
		<script src="../assets/jquery-1.9.1.min.js"></script>
		<script src="../assets/beta.js"></script>
		<script src="../../dist/beta-data.js"></script>
	</head>
	<body>
		<div>
			<input type="text" id="first1" />
			<input type="text" id="last1" />
		</div>		
		<div>
			<input type="text" id="first2" />
			<input type="text" id="last2" />
		</div>
		<script>
			var properties = new BetaJS.Properties.Properties();
			$("#first1").on("input", function () {
				properties.set("first", $("#first1").val());
			});
			$("#first2").on("input", function () {
				properties.set("first", $("#first2").val());
			});
			properties.on("change:first", function (value) {
				$("#first1").val(value);
				$("#first2").val(value);
				//document.title = properties.get("first") + " " + properties.get("last");
			});
			$("#last1").on("input", function () {
				properties.set("last", $("#last1").val());
			});
			$("#last2").on("input", function () {
				properties.set("last", $("#last2").val());
			});
			properties.on("change:last", function (value) {
				$("#last1").val(value);
				$("#last2").val(value);
				//document.title = properties.get("first") + " " + properties.get("last");
			});
			properties.set("full_name", properties.computed(function () {
				return properties.get("first") + " " + properties.get("last");
			}, ["first", "last"]));
			properties.on("change:full_name", function (value) {
				document.title = value;
			});

		</script>
	</body>
</html>